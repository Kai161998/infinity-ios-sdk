<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Optimize - Hybrid Events Guide Document</title>

	<link rel="stylesheet" href="../../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1333)">
</head>
<body class="appledoc wt-document">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../../index.html">WebtrendsSDK </a>
			</h1>

			<p id="developer-home">
				<a href="../../index.html">Webtrends <img src="images/wtLogo.png" width=15 height=15></a> 
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../../index.html">Home</a></li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview-contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">Optimize - Hybrid Events Guide Document</h1>

					<h1>Hybrid functionality for the Optimize&trade; SDK</h1>

<p>The Webtrends Mobile SDK for Optimize&trade; supports applications that use both native iOS elements and web pages presented in embedded web views (such as <strong>UIWebView</strong> or <strong>WKWebView</strong>), also known as <strong>hybrid</strong> functionality. For Optimize, this means that session information started in a browser can be continued into the native app and vice versa.</p>

<h2>Native App to Web</h2>

<p>When opening a web page that has been tagged with the Webtrends Common Tag&trade; in a <strong>UIWebView</strong> or <strong>WKWebView</strong>, simply call the <a href="../../Classes/WTOptimizeManager.html#//api/name/synchronizeSessionWithWebView:">[WTOptimizeManager synchronizeSessionWithWebView:]</a> method from within the webView:didFinishNavigation: delegate method. This will pass data to the web page that enables the Webtrends tag to recognize the existing session started in the native app.</p>

<h5>WebKit WKWebView Example</h5>

<div class="objective_c-code-sample"><pre><code>- (void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation
{
    [[WTOptimizeManager sharedManager] synchronizeSessionWithWebView:webView];
    // Your code here
}</code></pre></div>


<h5>UIWebView Example</h5>

<div class="objective_c-code-sample"><pre><code>-(void)webViewDidFinishLoad:(UIWebView *)webView
{
    [[WTOptimizeManager sharedManager] synchronizeSessionWithWebView:webView];
    // Your code here
}</code></pre></div>


<h2>Web to Native App</h2>

<p>To get the data tracked by Optimize&trade; tagged web pages displayed in an embedded webView (<strong>UIWebView</strong> or <strong>WKWebView</strong>), you must call the <a href="../../Classes/WTOptimizeWebViewDelegate.html#//api/name/shouldStartLoadWithRequest:">[WTOptimizeWebViewDelegate shouldStartLoadWithRequest:]</a> class method. This is best done in either the <strong>webView:decidePolicyForNavigationAction:decisionHandler:</strong> method (in <strong>WKWebView</strong>) or the <strong>webview:shouldStartLoadWithRequest:navigationType:</strong> (in <strong>UIWebView</strong>).</p>

<h5>WebKit WKWebView Example</h5>

<div class="objective_c-code-sample"><pre><code>-(void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler
{
    if (![WTOptimizeWebViewDelegate shouldStartLoadWithRequest:navigationAction.request]) {
        decisionHandler(WKNavigationActionPolicyCancel);
        // Your code here
        return;
    }
    decisionHandler(WKNavigationActionPolicyAllow);
}</code></pre></div>


<h5>UIWebView Example</h5>

<div class="objective_c-code-sample"><pre><code>-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
{
    if (![WTOptimizeWebViewDelegate shouldStartLoadWithRequest:request]) {
        // Your code here
        return NO;
    }
    return YES;
}</code></pre></div>


					<footer>
						<div class="footer-copyright">
							
							<p class="copyright">Copyright &copy; 2016 Webtrends. All rights reserved. Updated: 2016-03-08</p>
							
							
							<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1333)</a>.</p>
							
						</div>
					</footer>
				</main>
			</div>
		</div>
	</article>

	<script src="../../js/script.js"></script>
</body>
</html>